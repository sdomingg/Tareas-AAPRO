<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestros Productos</title>
    <link rel="stylesheet" href="style.css">
    <script>
        window.addEventListener('beforeunload', function (e) {
            var message = "¿Estás seguro de que deseas abandonar la página?";
            e.preventDefault(); // Algunos navegadores requieren esto para mostrar el mensaje
            e.returnValue = message; // Para otros navegadores
            return message; // Para otros navegadores
        });
    </script>
    <title>Calculador de Envío</title>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Coordenadas de San Nicolás de los Arroyos
            var sanNicolasCoords = {
                lat: -33.3344,
                lon: -60.2106
            };

            // Función para calcular la distancia entre dos puntos (en km) usando la fórmula de Haversine
            function calculateDistance(lat1, lon1, lat2, lon2) {
                var R = 6371; // Radio de la Tierra en km
                var dLat = (lat2 - lat1) * Math.PI / 180;
                var dLon = (lon2 - lon1) * Math.PI / 180;
                var a =
                    0.5 - Math.cos(dLat) / 2 +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                    (1 - Math.cos(dLon)) / 2;
                return R * 2 * Math.asin(Math.sqrt(a));
            }

            // Función para manejar la obtención de la ubicación del usuario
            function handleLocation(position) {
                var userCoords = {
                    lat: position.coords.latitude,
                    lon: position.coords.longitude
                };

                var distance = calculateDistance(
                    sanNicolasCoords.lat, sanNicolasCoords.lon,
                    userCoords.lat, userCoords.lon
                );

                var shippingCost;
                if (distance <= 40) {
                    shippingCost = 0;
                    alert("El envío es gratuito. Estás a " + distance.toFixed(2) + " km de San Nicolás de los Arroyos.");
                } else {
                    shippingCost = 900;
                    alert("El costo del envío es de $900. Estás a " + distance.toFixed(2) + " km de San Nicolás de los Arroyos.");
                }

                document.getElementById('shipping-cost').innerText = "Costo de Envío: $" + shippingCost;
            }

            // Función para manejar errores de geolocalización
            function handleError(error) {
                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        alert("Permiso denegado. El costo de envío por defecto es de $900.");
                        break;
                    case error.POSITION_UNAVAILABLE:
                        alert("Ubicación no disponible. El costo de envío por defecto es de $900.");
                        break;
                    case error.TIMEOUT:
                        alert("Tiempo de espera agotado. El costo de envío por defecto es de $900.");
                        break;
                    case error.UNKNOWN_ERROR:
                        alert("Error desconocido. El costo de envío por defecto es de $900.");
                        break;
                }
                document.getElementById('shipping-cost').innerText = "Costo de Envío: $900";
            }

            // Solicitar geolocalización del usuario
            if (navigator.geolocation) {
                alert("Para calcular el costo de envío, necesitamos tu ubicación.");
                navigator.geolocation.getCurrentPosition(handleLocation, handleError);
            } else {
                alert("Geolocalización no soportada por este navegador. El costo de envío por defecto es de $900.");
                document.getElementById('shipping-cost').innerText = "Costo de Envío: $900";
            }
        });
    </script>
    <title>Verificación de Edad</title>
    <script>
        window.onload = function () {
            var isAdult = confirm("¿Eres mayor de edad? Si no lo eres, entra bajo tu propio riesgo.");
            if (!isAdult) {
                alert("Estás entrando bajo tu propio riesgo.");
                // Aquí puedes redirigir a otra página si lo deseas
                // window.location.href = "http://otra-pagina.com";
            }
        };
    </script>
</head>

<body>
    <header class="header">
        <div class="logo-title">
            <img src="./Imagenes/header-removebg-preview.png" alt="Logo" class="logo">
            <h1 class="title">AQUAMARINE BOOKS</h1>
        </div>
        <nav class="navbar">
            <ul>
                <li><a href="./index.html">Inicio</a></li>
                <li><a href="./contacto.html">Contacto</a></li>
                <li><a href="./Horarios de atencion.html">Horarios de Atención</a></li>
                <li><a href="./Conoce mas sobre nosotros.html">Conocer Más Sobre Nosotros</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h2 class="gallerytitle">BESTSELLERS</h2>
        <section class="image-gallery">
            <div class="image-container">
                <img src="./Imagenes/al final.jpg" alt="Producto 1">
                <div class="product-info">
                    <h3 class="product-title">Al final los dos mueren, Adam Silvera</h3>
                    <p class="product-description">Imagina un mundo en el que una organización les avisa a las personas
                        la inminencia de su muerte. Imagina que empezó la cuenta regresiva. Imagina cómo vivirías tu
                        vida¿ en solo un día. ¿Estarías listo para decir adiós? Al final mueren los dos es un canto a la
                        fuerza arrolladora de la vida, que transformará para siempre tu forma de comprender el tiempo,
                        la amistad y el amor.</p>
                    <p class="product-price">$29.000</p>
                </div>
            </div>
            <div class="image-container">
                <img src="./Imagenes/if he.jpg" alt="Producto 2">
                <div class="product-info">
                    <h3 class="product-title">Si él hubiera estado conmigo</h3>
                    <p class="product-description">
                        Autumn y Finn eran inseparables, hasta que las cosas cambiaron. Hasta que ellos cambiaron. Ahora
                        se ignoran lo mejor que pueden.
                        Finn se ha convertido en el chico más popular del instituto, y aunque Autumn tiene a su novio
                        Jamie y a su grupo de amigos, cada vez que se cruza con Finn no puede evitar pensar en cómo
                        sería todo si no se hubiesen distanciado.
                        Pero es entonces cuando las cosas cambian definitivamente, y Autumn se ve forzada a confrontar
                        cómo habría cambiado su vida si hubieran estado juntos.</p>
                    <p class="product-price">$20.000</p>
                </div>
            </div>
            <div class="image-container">
                <img src="./Imagenes/haunting.jpg" alt="Producto 3">
                <div class="product-info">
                    <h3 class="product-title">Te encontraré: Cazando a Adeline</h3>
                    <p class="product-description">La muerte camina junto a mí, pero la Parca no es un rival para mí.
                        Estoy encerrada en un mundo lleno de monstruos, vestidos con trajes de hombre, y de gente que no
                        es lo que parece.
                        No podrán retenerme para siempre.
                        Ya no reconozco a la persona en la que me he convertido y lucho por hallar el camino que me
                        lleve de vuelta junto a la bestia que me da caza por las noches.
                        Me llaman el diamante, pero lo único que han creado es un ángel de la muerte.</p>
                    <p class="product-price">$25.000</p>
                </div>
            </div>
            </div>
        </section>
    </main>
</body>
<footer class="footercopy">
    <p>all rights reserved to aquamarine books 2024</p>
</footer>

</html>